package contenitoreStringhe;

public class ImplContenitore implements Contenitore {

	String[] arrValori;
	int[] arrIdentificatori;
	int maxCapacity;
	int currentCapacity = 0;
	int numInserimento = 0;

	public ImplContenitore(int maxCapacity) {
		super();
		this.maxCapacity = maxCapacity;
		this.arrValori = new String[maxCapacity];
		this.arrIdentificatori = new int[maxCapacity];
	}

	@Override
	public synchronized int inserisci(String s) throws Pieno {
		// TODO Auto-generated method stub
		if (maxCapacity == currentCapacity)
			throw new Pieno();
		arrValori[currentCapacity] = s;
		arrIdentificatori[currentCapacity++] = ++numInserimento;
		return numInserimento;
	}

	@Override
	public synchronized String recupera(int n) throws Inesistente {
		// TODO Auto-generated method stub
		boolean trovato = false;
		int i = 0;
		while (i < arrIdentificatori.length && !trovato) {
			if (arrIdentificatori[i] == n)
				trovato = true;
			i++;
		}
		if (!trovato)
			throw new Inesistente();
		return arrValori[--i];
	}

	@Override
	public void cancella(int n) throws Inesistente {
		// TODO Auto-generated method stub

	}

}
